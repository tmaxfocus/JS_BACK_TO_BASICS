<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Javascrip Routing</title>
  </head>
  <body>
    <h1>Wha do you want to see?</h1>
    <nav id="navigation">
      <button id="page1">Page 1</button>
      <button id="page2">Page 2</button>
      <button id="page3">Page 3</button>
    </nav>
    <div id="main"></div>
    <script>
      let pageText = "Welcome. click a button.";

      document
        .getElementById("navigation")
        .addEventListener("click", changeRoute);

      function changeRoute(e) {
        let requestRoute = e.target.id;
        history.pushState({}, "", requestRoute);
        route();
      }

      function route() {
        let currentRoute = location.pathname;

        function getLastURLSegment(path) {
          return path.substring(path.lastIndexOf("/") + 1);
        }

        currentRoute = getLastURLSegment(currentRoute);

        switch (currentRoute) {
          case "page1":
            pageText = "This is page 1";
            break;
          case "page2":
            pageText = "This is page 2";
            break;
          case "page3":
            pageText = "This is page 3";
            break;
          default:
            pageText = "Route not found.";
        }
        document.getElementById("main").innerHTML = pageText;
      }
    </script>
  </body>
</html>
